SELECT
  PA.MID
 ,PA.ANO
 ,PA.TITLE AS LTITLE
 ,CASE
   WHEN LENGTH(PA.TITLE) > 20 THEN SUBSTR(PA.TITLE,0,21)||'・・・'
   ELSE PA.TITLE
  END AS TITLE
 ,P.PIC
 ,CASE
   WHEN TO_CHAR(CURRENT_TIMESTAMP + '-1DAYS','YYYYMMDD') < TO_CHAR(PA.ENTDATE,'YYYYMMDD')
    THEN TO_CHAR(PA.ENTDATE,'hh24:mi')
   ELSE TO_CHAR(PA.ENTDATE,'MM/DD')
  END AS ENTDATE
FROM
  PHOTO_ALBUM PA
  LEFT JOIN (SELECT ANO,PIC
             FROM PHOTO
             WHERE
                  COVERFLG = '1'
              AND MID      = /*mid*/
              AND DELFLG   = '0') P ON PA.ANO = P.ANO
WHERE
     PA.MID       =  /*mid*/
 AND PA.PUBLEVEL IN /*publevel*/(1, 2)
 AND PA.DELFLG    = '0'
ORDER BY PA.ENTDATE DESC