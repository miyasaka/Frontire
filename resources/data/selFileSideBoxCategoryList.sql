SELECT
  A.CATEGORYID
 ,B.CATEGORYNAME AS CATEGORYNAMEORG
 ,CASE
   WHEN LENGTH(B.CATEGORYNAME) > 7 THEN SUBSTR(B.CATEGORYNAME,0,8) || 'â€¦'
   ELSE B.CATEGORYNAME
  END AS CATEGORYNAME
 ,COUNT(A.CATEGORYID) AS CATEGORYCNT
FROM
  FILEINFO A
  LEFT OUTER JOIN MST_CATEGORY B ON A.CATEGORYID = B.CATEGORYID
WHERE
     A.HISTORYNO = 1
 /*IF condition != null*/
 AND A.CATEGORYID = /*condition*/
 /*END*/
GROUP BY
  A.CATEGORYID
 ,B.CATEGORYNAME
ORDER BY
  B.CATEGORYNAME